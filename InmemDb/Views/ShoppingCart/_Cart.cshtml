@model List<InmemDb.Models.CartItem>
@inject InmemDb.Services.IIngredientService _ingredientService
@inject InmemDb.Services.ShoppingCartService _cartService

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<table class="col-lg-4">
    @foreach (var dish in Model)
    {
        <tr>
            <th>@dish.Dish.Name</th>
            <td>@dish.Dish.Price <b>KR</b></td>
            <td>
                <a class="glyphicon glyphicon-shopping-cart"
                   asp-action="EditDishIngredientsInCart"
                   asp-controller="ShoppingCart"
                   asp-route-dishId="@dish.Dish.DishId"
                   asp-route-cartItemId="@dish.CartItemId">
                    edit
                </a>
            </td>
        </tr>
    }
    <tr>
        <td>
            <a class="btn btn-primary" asp-action="ResetCart" asp-controller="ShoppingCart">Reset</a>
        </td>
        <td>
            @if (User.Identity.IsAuthenticated)
            {
                <a class="btn btn-primary" asp-action="Payment" asp-controller="Payment">Buy</a>
            }
            else
            {
                <a class="btn btn-primary" asp-action="CheckOut" asp-controller="Payment">Checkout</a>
            }
        </td>
    </tr>
</table>