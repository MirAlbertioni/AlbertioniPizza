@model InmemDb.Models.Cart
@inject InmemDb.Services.ShoppingCartService _cartService

<div class="col-lg-12">
    <div class="well well-sm">
        <h2>Varukorg</h2>
        <table class="table table-condensed">
            <thead>
                <tr>
                    <th>Pizza</th>
                    <th>Pris</th>
                    <th>Antal</th>
                    <th>Edit</th>
                </tr>
            </thead>
            <tfoot>
                <tr style="border-top:1px solid #c9c9c9">
                    <td>Sum</td>
                    <td>
                        @_cartService.TotalPriceForCart(Model.CartId)
                    </td>
                </tr>

            </tfoot>

            <tbody>
                @foreach (var x in Model.CartItem)
                {
                    
                        <tr>
                            <td>@x.Dish.Name</td>
                            <td>@x.Dish.Price</td>
                            <td>@x.Quantity</td>
                            <td>
                                <a class="glyphicon glyphicon-shopping-cart"
                                   asp-action="EditDishIngredientsInCart"
                                   asp-controller="ShoppingCart"
                                   asp-route-dishId="@x.Dish.DishId"
                                   asp-route-cartItemId="@x.CartItemId">
                                    edit
                                </a>
                            </td>
                        </tr>
                    
                    @foreach (var ingredient in x.CartItemIngredient)
                    {
                        if (ingredient.CartItemIngredientPrice > 0)
                        {
                            <tr>
                                <td>@ingredient.Ingredient.Name</td>
                                <td>@ingredient.CartItemIngredientPrice kr</td>
                            </tr>
                        }

                    }
                }
            </tbody>
        </table>
    </div>
</div>




<div style="text-align:center;">
    <a style="width:60%;margin-top:10%;margin-bottom:1%;" class="btn btn-primary" asp-controller="Account" asp-action="Login">Login or create a membership</a>
    <a style="width:60%;" class="btn btn-primary" asp-controller="Payment" asp-action="Payment">Continue as guest</a>
</div>